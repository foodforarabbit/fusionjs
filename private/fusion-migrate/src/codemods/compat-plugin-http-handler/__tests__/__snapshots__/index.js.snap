// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`compat-plugin-http-handler positive-match: positive-match 1`] = `
"import App from 'fusion-react';
import {createPlugin} from 'fusion-core';
import SomePlugin, {SomeToken} from '@uber/fusion-plugin-secure-headers';
import {OtherToken, OtherPlugin} from 'other-plugin';

console.log(App);

function thing() {
  const app = new App();
  if (__BROWSER__) {
    app.register(OtherToken, OtherPlugin);
  }
  if (__NODE__) {
    app.register(SomeToken, SomePlugin);
  }
  return app;
}


      ↓ ↓ ↓ ↓ ↓ ↓

import App from 'fusion-react';
import {createPlugin} from 'fusion-core';
import SomePlugin, {SomeToken} from '@uber/fusion-plugin-secure-headers';
import BedrockCompatPlugin, {
  InitializeServerToken,
  BedrockCompatToken,
} from '@uber/fusion-plugin-bedrock-compat';
import HttpHandlerPlugin, {HttpHandlerToken} from 'fusion-plugin-http-handler';
import {OtherToken, OtherPlugin} from 'other-plugin';
console.log(App);

function thing() {
  const app = new App();

  if (__BROWSER__) {
    app.register(OtherToken, OtherPlugin);
  }

  if (__NODE__) {
    app.register(SomeToken, SomePlugin);
    app.register(BedrockCompatToken, BedrockCompatPlugin);
    app.register(InitializeServerToken, require('./server/index.js').default);
    app.register(
      HttpHandlerToken,
      createPlugin({
        deps: {
          server: BedrockCompatToken,
        },
        provides: ({server}) => server.app,
      })
    );
    app.register(HttpHandlerPlugin);
  }

  return app;
}
"
`;
